!function(a){("object"!=typeof exports||"undefined"==typeof module)&&"function"==typeof define&&define.amd?define(a):a()}(function(){"use strict";function b(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.entry=[],this.nunjucksOptions={},this.pages=[]}var d=function(a,c,d){return c&&b(a.prototype,c),d&&b(a,d),a},f=require("laravel-mix"),g=require("glob"),h=require("path"),j=require("process").cwd(),i=require("html-webpack-plugin"),d=(d(c,[{key:"name",value:function(){return["nunjucks","njk"]}},{key:"dependencies",value:function(){return["glob","html-loader","html-webpack-plugin","nunjucks-html-loader"]}},{key:"register",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.pages=g.sync("**/*.njk",{cwd:h.join(j,a),root:"/"}).map(function(b){return new i({filename:b.replace("njk","html"),template:h.join(j,a+"/"+b)})}),this.nunjucksOptions=JSON.stringify(b)}},{key:"webpackRules",value:function(){return{test:/\.(njk|nunjucks)$/,use:[{loader:"html-loader",options:{attributes:!1}},{loader:"nunjucks-html-loader?"+this.nunjucksOptions}]}}},{key:"webpackPlugins",value:function(){return[].concat(function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}(this.pages))}}]),c);f.extend("njk",new d)});
